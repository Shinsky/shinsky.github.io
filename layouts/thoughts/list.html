{{ define "main" }}
<div class="content-box">
    <div id="post-list">
        {{ range .Pages.ByDate.Reverse }}
        {{ $page := . }}
        {{ if eq (.Params.style | default "article") "note" }}
        {{/* NOTE: compact inline entry */}}
        <div class="note-item">
            <div class="note-meta">
                <span class="post-list-date">{{ .Date.Format "jan 2, 2006" }}</span>
                {{ with .Params.tags }}
                <span class="note-tags">{{ range . }}<span class="tag-inline">{{ . }}</span>{{ end }}</span>
                {{ end }}
            </div>
            <div class="post-list-title">{{ .Title }}</div>
            <div class="note-body">{{ .Content }}</div>
            <a href="{{ .Permalink }}" class="note-permalink">permalink â†—</a>
        </div>
        {{ else }}
        {{/* ARTICLE: full card with hero + excerpt */}}
        <a href="{{ .Permalink }}" class="post-list-item">
            {{ with .Params.hero }}
            {{ $hero := $page.Resources.GetMatch . }}
            {{ with $hero }}
            {{ partial "responsive-image.html" (dict "img" . "class" "post-list-hero") }}
            {{ end }}
            {{ end }}
            <div class="post-list-date">{{ .Date.Format "jan 2, 2006" }}</div>
            <div class="post-list-title">{{ .Title }}</div>
            {{ with .Params.tags }}
            <div class="post-list-tags">
                {{ range . }}<span class="tag-inline">{{ . }}</span>{{ end }}
            </div>
            {{ end }}
            {{ with .Params.excerpt }}
            <div class="post-list-excerpt">{{ . }}</div>
            {{ end }}
        </a>
        {{ end }}
        {{ end }}
    </div>
</div>
{{ end }}
